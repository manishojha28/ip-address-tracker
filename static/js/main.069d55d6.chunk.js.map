{"version":3,"sources":["images/icon-location.svg","MapView.js","Main.js","App.js","index.js"],"names":["DefaultIcon","Leaflet","icon","iconUrl","iconSize","popupAnchor","CenterView","center","useMap","setView","MapView","props","state","latLong","position","Object","values","this","MapContainer","zoom","style","height","width","zIndex","scrollWheelZoom","TileLayer","url","Marker","Popup","console","log","Component","Main","handleClick","ip","document","querySelector","value","fetchApi","forceUpdate","lat","lng","ipAddress","fetch","then","res","json","data","l1","location","l2","obj","setState","region","isp","timezone","className","id","type","placeholder","IconButton","onClick","App","Fragment","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.069d55d6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/icon-location.7e6459d2.svg\";","import React, {Component} from 'react'\r\nimport Leaflet from 'leaflet'\r\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet'\r\nimport 'leaflet/dist/leaflet.css'\r\nimport icon from './images/icon-location.svg';\r\n\r\nconst DefaultIcon = Leaflet.icon({\r\n    iconUrl: icon,\r\n    iconSize: [27, 40],\r\n    popupAnchor: [0, -46]\r\n});\r\n\r\nconst CenterView = ({ center }) => {\r\n    const map = useMap()\r\n    map.setView(center)\r\n    return null\r\n}\r\n\r\n\r\nexport default class MapView extends Component{\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            latLong: this.props.latLong,\r\n        }   \r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        return {latLong: props.latLong}\r\n    }\r\n\r\n    \r\n    render() {\r\n        const position = Object.values(this.state.latLong)\r\n        return (\r\n            <MapContainer \r\n                center={position}\r\n                zoom={11}\r\n                style={{ height: \"70vh\", width: \"100%\", zIndex: \"-1\" }}\r\n                scrollWheelZoom={false}\r\n                >\r\n                    <CenterView center={position} />\r\n                    <TileLayer\r\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                    />\r\n                    <Marker position={position} icon={DefaultIcon}>\r\n                        <Popup>\r\n                            A pretty CSS3 popup. <br /> Easily customizable.\r\n                        </Popup>\r\n                    </Marker>\r\n                    {console.log(this.state.latLong)}\r\n            </MapContainer>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n","import React, {Component} from 'react'\r\nimport { IconButton } from '@material-ui/core';\r\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\r\nimport './Main.css'\r\nimport MapView from './MapView';\r\n\r\nclass Main extends Component {\r\n    constructor(props) {\r\n        super()\r\n        this.state = {\r\n            latLong: {lat: 37.40599, lng: -122.078514},\r\n            ipAddress: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const ip = this.state.ipAddress\r\n        const url = `https://geo.ipify.org/api/v1?apiKey=at_2vTG07BaiN6spBlwtk2x6Y374lJd2&ipAddress=${ip}`\r\n        this.fetchApi(url, ip)\r\n    }\r\n\r\n    handleClick = () => {\r\n        let ip = document.querySelector(\"#ip_input\").value\r\n        let url = `https://geo.ipify.org/api/v1?apiKey=at_2vTG07BaiN6spBlwtk2x6Y374lJd2&ipAddress=${ip}`\r\n        this.fetchApi(url, ip)\r\n        this.forceUpdate()\r\n    }\r\n\r\n    fetchApi(url, ip) {\r\n        fetch(url)\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n                const l1 = data.location.lat\r\n                const l2 = data.location.lng\r\n                const obj = {lat: l1, lng: l2}\r\n                if (l1 !== this.state.latLong.lat && l2 !== this.state.latLong.lng) {\r\n                    this.setState({\r\n                        latLong: obj,\r\n                        ipAddress: data.ip,\r\n                        location: data.location.region,\r\n                        isp: data.isp,\r\n                        timezone: `UTC ${data.location.timezone}`\r\n                    })\r\n                }\r\n                console.log(data);\r\n            })\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"main_container\">\r\n                <div className=\"upper_box\">\r\n                    <h2 id=\"top\">IP Address Tracker</h2>\r\n                    <div className=\"search_container\">\r\n                        <input id=\"ip_input\" type=\"text\" placeholder=\"Search for any IP address or domain\"></input>\r\n                        <IconButton id=\"btn\" onClick={this.handleClick}>\r\n                            <ArrowForwardIosIcon />\r\n                        </IconButton>\r\n                    </div> \r\n                </div>\r\n                <div className=\"data_card\">\r\n                    <div className=\"data\">\r\n                        <p className=\"small\">IP ADDRESS</p>\r\n                        <p className=\"large\">{this.state.ipAddress}</p>\r\n                    </div>\r\n                    <div className=\"data\">\r\n                        <p className=\"small\">LOCATION</p>\r\n                        <p className=\"large\">{this.state.location}</p>\r\n                    </div>\r\n                    <div className=\"data\">\r\n                        <p className=\"small\">TIMEZONE</p>\r\n                        <p className=\"large\">{this.state.timezone}</p>\r\n                    </div>\r\n                    <div className=\"data\">\r\n                        <p className=\"small\">ISP</p>\r\n                        <p className=\"large\">{this.state.isp}</p>\r\n                    </div>\r\n                </div>\r\n                <MapView {...this.state}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Main\r\n","import React from 'react';\nimport './App.css';\nimport Main from './Main';\n\nfunction App() {\n  return (\n    <React.Fragment>\n      <Main />\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}